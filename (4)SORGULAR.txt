--EN ÇOK SATIŞ YAPAN 3 KULLANICI
SELECT TOP 3 KULLANICIID, AD, SOYAD, SATISADET 
AS 'YAPTIĞI SATIŞ ADEDİ' FROM KULLANICILAR ORDER BY SATISADET DESC

--EN ÇOK ÜRÜN ALAN 3 KULLANICI
SELECT TOP 3 KULLANICIID, AD, SOYAD, ALISADET 
AS 'ALDIĞI ÜRÜN ADEDİ' FROM KULLANICILAR ORDER BY ALISADET DESC

--FİYAT BAZLI EN ÇOK ÜRÜN ALAN KULLANICI
SELECT TOP 3 KULLANICIID, AD, SOYAD, ISLEMTOPLAMALIS 
AS 'ALDIĞI ÜRÜNLERİN TOPLAMI' FROM KULLANICILAR ORDER BY ISLEMTOPLAMALIS DESC

--FİYAT BAZLI EN ÇOK ÜRÜN SATAN KULLANICI
SELECT TOP 3 KULLANICIID, AD, SOYAD, ISLEMTOPLAMSATIS 
AS 'ALDIĞI ÜRÜNLERİN TOPLAMI' FROM KULLANICILAR ORDER BY ISLEMTOPLAMSATIS DESC

--FİYAT BAZLI EN ÇOK ÜRÜN SATAN KULLANICI
SELECT TOP 3 KULLANICIID, AD, SOYAD, ISLEMTOPLAMSATIS 
AS 'SATTIĞI ÜRÜNLERİN TOPLAMI' FROM KULLANICILAR ORDER BY ISLEMTOPLAMSATIS DESC

--SATIŞTA OLAN ÜRÜNLERİN FİYATA GÖRE SIRALAMASI
SELECT BASLIK, ACIKLAMA,FIYAT 
FROM URUNLER 
WHERE DURUM = 'SATIŞTA' ORDER BY FIYAT DESC

--EN ÇOK TERCİH BEĞENİLEN URUN
SELECT URUNID,BASLIK, ACIKLAMA, FIYAT 
FROM URUNLER 
WHERE URUNID = (SELECT TOP 1 URUNID FROM FAVORILER
GROUP BY  URUNID ORDER BY COUNT(URUNID) DESC)


--HER KULLANICININ SATIŞTAKİ ÜRÜNLERİ
SELECT AD, SOYAD, ACIKLAMA, FIYAT 
FROM KULLANICILAR, URUNLER 
WHERE KULLANICILAR.KULLANICIID = URUNLER.SATICIID AND URUNLER.DURUM = 'SATIŞTA'

--HER BİR KATEGORININ ALT KATEGORİLERİ
SELECT KATEGORITURU,  ALTKATEGORITURU 
FROM KATEGORI, ALTKATEGORI 
WHERE KATEGORI.KATEGORIID = ALTKATEGORI.KATEGORIID

--HER KULLANICININ BEĞENDİĞİ ÜRÜNLERİN LİSTESİ
SELECT AD, SOYAD, BASLIK, ACIKLAMA 
FROM KULLANICILAR, URUNLER, FAVORILER 
WHERE KULLANICILAR.KULLANICIID = FAVORILER.KULLANICIID AND FAVORILER.URUNID = URUNLER.URUNID

--KULLANICILARIN KAYITLI OLDUĞU ADRESLERİN LİSTESİ
SELECT AD, SOYAD, ADRES, ADRESACIKLAMA
FROM KULLANICILAR, ADRES
WHERE KULLANICILAR.KULLANICIID = ADRES.KULLANICIID 

--EN ÇOK KULLANILAN KARGO FİRMALARI
SELECT FIRMAADI, COUNT(SATIS.KARGOID) FROM KARGO, SATIS WHERE SATIS.KARGOID = KARGO.KARGOID GROUP BY FIRMAADI 

--ŞATIŞ DURUMU BEKLEMEDE OLAN ÜRÜNLERİN İŞLEMİN NE KADAR SÜRDÜĞÜNÜN LİSTESİ
SELECT DATEDIFF(YEAR,ISLEMTARIHI,EKLEMETARIHI) AS 'GEÇEN SÜRE' , BASLIK, ACIKLAMA 
FROM URUNLER, SATIS 
WHERE URUNLER.URUNID = SATIS.URUNID  AND URUNLER.DURUM = 'BEKLEMEDE'

--ÜRÜNLERİN NE KADAR SÜREDİR SATIŞTA OLDUĞU
SELECT URUNID,BASLIK,ACIKLAMA, DATEDIFF(DAY,EKLEMETARIHI,GETDATE()) AS 'GÜNDÜR SATIŞTA'
FROM URUNLER

--EKLENMESİNİN ÜZERİNDEN 30 GÜN GEÇEN ÜRÜNLER
SELECT URUNID,BASLIK,ACIKLAMA, DATEDIFF(DAY,EKLEMETARIHI,GETDATE()) AS 'GÜNDÜR SATIŞTA'
FROM URUNLER  WHERE DATEDIFF(DAY,EKLEMETARIHI,GETDATE()) > 30

--SATIŞTAKİ ÜRÜNLERİN GENEL BİLGİLERİ
SELECT URUNID, BASLIK, ACIKLAMA, KATEGORITURU, ALTKATEGORITURU, MARKAADI, FIYAT, EKLEMETARIHI, CINSIYET, BEDEN 
FROM URUNLER, KATEGORI, ALTKATEGORI, MARKALAR
WHERE URUNLER.KATEGORIID = KATEGORI.KATEGORIID AND URUNLER.ALTKATEGORIID = ALTKATEGORI.ALTKATEGORIID AND URUNLER.MARKAID = MARKALAR.MARKAID
AND DURUM = 'SATIŞTA'
